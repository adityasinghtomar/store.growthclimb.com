"use strict";woostifyEvent.ajax_call=0;let listFilter={};const woostifyFilterDatePicker=function(){let e=document.querySelector(".w-product-filter[data-type=date-range] .w-product-filter-inner");if(!e)return;let t={mode:"dp-below"};"undefined"!=typeof woostify_datepicker_data&&(t.lang={},t.lang.months=woostify_datepicker_data.months,t.lang.days=woostify_datepicker_data.days,t.lang.today=woostify_datepicker_data.today,t.lang.clear=woostify_datepicker_data.clear,t.lang.close=woostify_datepicker_data.close);let r=e.querySelectorAll(".w-filter-date-picker");for(let l=0,i=r.length;l<i;l++){let o;if("object"===o)return;o=TinyDatePicker(r[l],t)}},woostifyToggleFilterHorizontal=function(){let e=document.querySelectorAll(".filter-area.filter-horizontal .w-product-filter .widget-title, .w-pro-smart-filter-layout-horizontal .elementor-widget-container .widget-title"),t=document.querySelectorAll(".filter-area.filter-horizontal .w-product-filter, .w-pro-smart-filter-layout-horizontal .elementor-widget-container .w-product-filter");e.length&&e.forEach(function(e){e.onclick=function(){let r=e.parentNode;r.classList.contains("open")?r.classList.remove("open"):(t.forEach(function(e){e.classList.remove("open")}),r.classList.add("open"))}})},woostifyToggleFilter=function(){let e=document.querySelectorAll(".w-product-filter:not(.no-collapse) .widget-title");e.length&&e.forEach(function(e){let t=e.closest(".w-product-filter"),r=e,l=t.querySelector(".w-product-filter-inner"),i=t.getAttribute("data-collapse");t.style.transitionDuration="300ms",null===i?t.style.height=r.getBoundingClientRect().height+l.getBoundingClientRect().height+"px":t.style.height=r.getBoundingClientRect().height+"px",e.onclick=function(){let t=e.parentNode,r=t.querySelector(".w-product-filter-inner");if(null===t.getAttribute("data-collapse")){t.classList.remove("is-opening"),t.classList.add("is-closing");let l=e.getBoundingClientRect().height;t.style.height=l+"px",setTimeout(function(){t.classList.contains("is-closing")&&t.setAttribute("data-collapse",""),t.classList.remove("is-closing")},300)}else{t.classList.remove("is-closing"),t.classList.add("is-opening");let i=e.getBoundingClientRect().height;t.setAttribute("data-collapse","");let o=r.getBoundingClientRect().height;t.removeAttribute("data-collapse"),t.style.height=i+o+"px",setTimeout(function(){t.classList.remove("is-opening")},300)}}})},woostifyToggleChildTerm=function(){let e=document.querySelectorAll('[data-type="checkbox"] .w-filter-item-depth');if(!e.length)return;e.forEach(function(e){let t=e.previousElementSibling;if(!t)return;let r=e.classList.contains("visible")?woostify_product_filter.collapse_icon:woostify_product_filter.expand_icon;t.insertAdjacentHTML("beforeend",'<span class="expand-btn">'+r+"</span>")});let t=document.querySelectorAll('[data-type="checkbox"] .expand-btn');t.length&&t.forEach(function(e){let t=e.closest(".w-filter-item-wrap");t&&(t.classList.add("is-parent-item"),e.onclick=function(){e.innerHTML=woostify_product_filter.expand_icon===e.innerHTML?woostify_product_filter.collapse_icon:woostify_product_filter.expand_icon;let t=e.closest(".w-filter-item-wrap");if(!t)return;let r=t.nextElementSibling;if(!r||!r.classList.contains("w-filter-item-depth"))return;r.classList.contains("visible")?r.classList.remove("visible"):r.classList.add("visible");let l=e.closest(".w-product-filter ");l.style.height="auto";let i=l.getBoundingClientRect().height;l.style.height=i+"px"})})},woostifyToggleSoftLimit=function(){let e=document.querySelectorAll(".w-product-filter .w-filter-toggle-btn");e.length&&e.forEach(function(e){e.onclick=function(){let t=e.parentNode.querySelector(".w-filter-item-overflow");if(!t)return;let r=e.parentNode.querySelector(".w-filter-toggle-btn.w-filter-hidden");r&&r.classList.remove("w-filter-hidden"),e.classList.add("w-filter-hidden"),t.classList.contains("w-filter-hidden")?t.classList.remove("w-filter-hidden"):t.classList.add("w-filter-hidden");let l=e.closest(".w-product-filter ");l.style.height="auto";let i=l.getBoundingClientRect().height;l.style.height=i+"px"}})},woostifyUpdateFilters=function(e){for(let t in e)Array.isArray(e[t])&&!e[t].length&&delete e[t];if(!Object.keys(e).length)return{};if(1===Object.keys(e).length)void 0===e.first_active_filter?e.first_active_filter=Object.keys(e)[0]:delete e.first_active_filter;else{let r=e.first_active_filter;void 0!==r&&void 0===e[r]&&delete e.first_active_filter}return e},woostifyBuildQueryString=function(e){let t=woostify_product_filter.filters_url,r=Object.keys(e),l={};for(let i=0,o=r.length;i<o;i++)void 0!==t[r[i]]&&(l[t[r[i]]]=e[r[i]]);return l},woostifyFilterQuickSearch=function(){let e=document.querySelectorAll(".w-filter-quick-search");e.length&&e.forEach(function(e){let t=e.parentNode.querySelectorAll(".w-filter-item-wrap");if(!t.length)return;let r=function(){for(let r=0,l=t.length;r<l;r++){let i=t[r].querySelector(".w-filter-item-name");if(!i)continue;let o=e.value.toUpperCase();i.innerText.toUpperCase().includes(o)?t[r].style.display="":t[r].style.display="none"}};r(),e.addEventListener("input",r)})},mergeTooltips=function(e,t,r){var l=e.noUiSlider.getTooltips();l.forEach(function(e){e.style.transition="none"}),e.noUiSlider.on("update",function(i,o,n,a,c){var s=e.querySelector(".noUi-base .mergeTooltip");s||((s=document.createElement("div")).setAttribute("class","noUi-tooltip mergeTooltip"),s.style.visibility="hidden",e.querySelector(".noUi-base").appendChild(s));var d=[[]],u=[[]],f=[[]],g=0;l[0]&&(d[0][0]=0,u[0][0]=c[0],f[0][0]=i[0]);for(var p=1,h=c.length;p<h;p++){var y=l[p].getBoundingClientRect(),w=l[p-1].getBoundingClientRect();(!l[p]||w.right-y.left+t<0)&&(d[++g]=[],f[g]=[],u[g]=[]),l[p]&&(d[g].push(p),f[g].push(i[p]),u[g].push(c[p]))}1>=d.length?(d.forEach(function(e,t){var l=(u[t][0]+u[t][1])/2,i=f[t].filter((e,t,r)=>r.indexOf(e)===t);s.innerHTML=i.join(r),s.style.visibility="visible",s.style.transform="translate(-50%, -44%)",s.style.left=l+"%",s.style.transition="none"}),l.forEach(function(e){e.style.visibility="hidden"})):(s.style.visibility="hidden",l.forEach(function(e){e.style.visibility="visible"}))})},filterData=function(e,t){let r=document.querySelectorAll(".w-product-filter[data-type]");r.length&&r.forEach(function(r){let l=r.getAttribute("data-type"),i=r.getAttribute("data-id"),o="tmp_"+i;switch(window[o]||(window[o]=void 0===e[i]?[]:e[i]),listFilter[i]=l,l){case"search":let n=r.querySelector(".w-product-filter-text-field"),a=r.querySelector(".w-product-filter-search-icon");if(!n||!a)return;n.onkeyup=function(e){13===e.keyCode&&a.click()},a.onclick=function(){let r=n.value.trim(),l=n.getAttribute("data-value")||"";r&&l!=r&&(n.setAttribute("data-value",r),e[i]=r,document.body.dispatchEvent(t))};break;case"date-range":let c=r.querySelector("[data-from]"),s=r.querySelector("[data-to]"),d=r.querySelector(".w-filter-item-submit");if(!c||!s||!d)return;d.onclick=function(){if(!c.value||!s.value)return;let r=[];r[0]=c.value,r[1]=s.value,e[i]=r,document.body.dispatchEvent(t)};break;case"rating":let u=r.querySelectorAll(".w-filter-rating-item");if(!u.length)return;for(let f=0,g=u.length;f<g;f++)u[f].onclick=function(){if(u[f].classList.contains("selected"))return;let l=r.querySelector(".w-filter-rating-item.selected");l&&l.classList.remove("selected"),u[f].classList.add("selected"),e[i]=[5-f],document.body.dispatchEvent(t)};break;case"sort-order":let p=r.querySelector(".w-product-filter-select-field.w-filter-ordering");if(!p)return;p.onchange=function(r){r.preventDefault(),e[i]=p.value,document.body.dispatchEvent(t)};break;case"select":let h=r.querySelector(".w-product-filter-select-field");if(!h)return;h.onchange=function(){e[i]=h.value,document.body.dispatchEvent(t)};break;case"radio":let y=r.querySelectorAll('[type="radio"]');if(!y.length)return;for(let w=0,m=y.length;w<m;w++)y[w].onchange=function(){e[i]=y[w].parentNode.getAttribute("data-slug"),document.body.dispatchEvent(t)};break;case"range-slider":if(!r)break;let b=r.querySelector(".w-filter-range-slider");if(!b||b&&"object"==typeof r.noUiSlider||b.classList.contains("noUi-target"))break;let v=r.querySelector(".w-filter-range-slider-reset"),S=JSON.parse(b.getAttribute("data-start")),k=JSON.parse(b.getAttribute("data-range")),q=noUiSlider.create(b,{tooltips:!0,connect:!0,start:S,step:1,range:k,format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)}}});q.on("change",function(l,o,n,a,c,s){r.querySelector(".w-filter-range-slider-reset").style.display="block",woostifyToggleFilter(),e[i]=l,document.body.dispatchEvent(t)}),v&&(v.onclick=function(){let e=v.previousElementSibling;if(!e)return;if(!e.querySelector(".noUi-handle-upper"))return;let t=document.querySelector('.w-filter-key-remove[data-id="'+i+'"]');t&&t.click()}),mergeTooltips(b,2," - ");break;case"check-range":let $=r.querySelectorAll('[type="checkbox"]');if(!$.length)return;for(let L=0,A=$.length;L<A;L++)$[L].onclick=function(){let r=$[L].parentNode.getAttribute("data-value");window[o].includes(r)?window[o]=window[o].filter(function(e){return e!==r}):window[o].push(r),e[i]=window[o],document.body.dispatchEvent(t)};break;case"checkbox":let E=r.querySelectorAll('[type="checkbox"]');if(!E.length)return;for(let x=0,T=E.length;x<T;x++)E[x].onclick=function(){E[x].parentNode.getAttribute("data-id");let r=E[x].parentNode.getAttribute("data-slug");window[o].includes(r)?window[o]=window[o].filter(function(e){return e!==r}):window[o].push(r),e[i]=window[o],document.body.dispatchEvent(t)};break;case"stock":let _=r.querySelectorAll('[type="checkbox"]');if(!_.length)return;for(let F=0,C=_.length;F<C;F++)_[F].onclick=function(){_[F].parentNode.getAttribute("data-id");let r=_[F].parentNode.getAttribute("data-slug");window[o].includes(r)?window[o]=window[o].filter(function(e){return e!==r}):window[o].push(r),e[i]=window[o],document.body.dispatchEvent(t)};break;case"visual":let B=r.querySelectorAll(".w-filter-item");if(!B.length)return;for(let H=0,j=B.length;H<j;H++)B[H].onclick=function(){let r=B[H].getAttribute("data-slug");window[o].includes(r)?(window[o]=window[o].filter(function(e){return e!==r}),B[H].classList.remove("selected")):(window[o].push(r),B[H].classList.add("selected")),e[i]=window[o],document.body.dispatchEvent(t)}}})},woostifyAjaxFilter=function(){let e=document.querySelectorAll(".w-product-filter[data-type]"),t=document.querySelector(".w-result-filter");if(!e.length||!t)return;let r=document.querySelector(".w-filter-key"),l=t.querySelector(".products"),i=document.getElementById("wpadminbar"),o=i?i.offsetHeight:0,n=Array.isArray(woostify_product_filter.active_params)?{}:woostify_product_filter.active_params,a=1,c=new CustomEvent("filtered",{detail:!0});if(listFilter={},r&&woostify_product_filter.remove_key&&(r.innerHTML=woostify_product_filter.remove_key),!t.querySelector(".woocommerce-pagination")&&l){let s=document.createElement("div");s.setAttribute("class","woocommerce-pagination"),l.after(s)}let d=function(){let e=t.querySelectorAll(".woocommerce-pagination .page-numbers a.page-numbers");if(e.length)for(let r=0,l=e.length;r<l;r++)e[r].onclick=function(l){l.preventDefault();let i=t.querySelector(".woocommerce-pagination .page-numbers .page-numbers.current"),o=e[r].classList.contains("prev"),n=e[r].classList.contains("next"),c=1;o&&i&&(c=Number(i.innerText)-1),n&&i&&(c=Number(i.innerText)+1),o||n||(c=Number(e[r].innerText)),a=c,document.body.dispatchEvent(new CustomEvent("filtered",{detail:!1}))}};d(),filterData(n,c);let u=function(){let e=r?r.querySelectorAll(".w-filter-key-remove"):[];if(e.length)for(let t=0,l=e.length;t<l;t++)e[t].onclick=function(){let r=e[t].getAttribute("data-id"),l=e[t].getAttribute("data-type"),i=e[t].getAttribute("data-value");if(!l)return;switch(l){case"all":let o=Object.getOwnPropertyNames(n);for(let a=0,s=o.length;a<s;a++)delete n[o[a]];let d=woostifyBuildQueryString(n),u=Object.fromEntries(new URLSearchParams(location.search));for(let v in d)!d[v].length&&v in u&&(delete u[v],delete d[v]);let S={...u,...d},k=new URLSearchParams(S).toString();if(Object.keys(n).length||(k=""),history.pushState){let q=void 0!==S.lang?"?lang="+S.lang:"";history.pushState(null,null,k?"?"+k:window.location.pathname+q)}let $=e[t].parentNode.querySelectorAll("[data-id]");$.length&&$.forEach(function(e){let t=e.getAttribute("data-id");window["tmp_"+t]&&(window["tmp_"+t]=[])}),m(),f(),g(),p(),h(),y(),w(),b();break;case"sort-order":let L=jQuery('.w-product-filter[data-id="'+r+'"] .w-filter-ordering');if(!L.length)return;for(let A=0;A<L.length;A++)L[A].selectedIndex=0;delete n[r];break;case"search":g(),delete n[r];break;case"date-range":h(),delete n[r];break;case"check-range":if(!i)return;let E=window["tmp_"+r];if(void 0!==E){let x=E.filter(function(e){return e!==i});window["tmp_"+r]=x,n[r]=x;let T=document.querySelector('.w-product-filter[data-id="'+r+'"] [data-value="'+i+'"] [type="checkbox"]:checked');T&&(T.checked=!1)}break;case"range-slider":p(),delete n[r];break;case"rating":y(),delete n[r];break;case"select":let _=jQuery('.w-product-filter[data-id="'+r+'"] .w-product-filter-select-field');if(!_.length)return;for(let F=0;F<_.length;F++)_[F].selectedIndex=0;delete n[r];case"radio":let C=document.querySelector('.w-product-filter[data-id="'+r+'"] [data-id="'+i+'"] [type="radio"]:checked');C&&(C.checked=!1),delete n[r];break;case"checkbox":case"stock":case"visual":if(!i)return;let B=window["tmp_"+r];if(void 0!==B){let H=B.filter(function(e){return e!==i});if(window["tmp_"+r]=H,n[r]=H,"visual"==l){let j=document.querySelector('.w-product-filter[data-id="'+r+'"] [data-slug="'+i+'"].selected');j&&j.classList.remove("selected")}else{let U=document.querySelector('.w-product-filter[data-id="'+r+'"] [data-slug="'+i+'"] [type="checkbox"]:checked');U&&(U.checked=!1)}}}let M=woostifyBuildQueryString(woostifyUpdateFilters(n)),D=Object.entries(Object.fromEntries(new URLSearchParams(location.search)));function P(e,t){return e.filter(function(e){return e[1]!=t})}let N=P(D,i),R={};N.forEach(function(e,t){R[e[0]]=e[1]});let z={...R,...M},Q=new URLSearchParams(z).toString();if(Object.keys(n).length||(Q=""),history.pushState){let I=void 0!==z.lang?"?lang="+z.lang:"";history.pushState(null,null,Q?"?"+Q:window.location.pathname+I)}document.body.dispatchEvent(c)}};u();let f=function(){let e=document.querySelectorAll(".w-product-filter-select-field");e.length&&e.forEach(function(e){e.value=""})},g=function(){let e=document.querySelectorAll(".w-product-filter-text-field");e.length&&e.forEach(function(e){e.value=""})},p=function(){let e=document.querySelectorAll(".w-product-filter-type-range-slider");e.length&&e.forEach(function(e){"object"==typeof e.noUiSlider&&e.noUiSlider.set(e.noUiSlider.options.start)})},h=function(){let e=document.querySelectorAll(".w-filter-date-picker");e.length&&e.forEach(function(e){e.value=""})},y=function(){let e=document.querySelector(".w-product-filter-type-rating .selected");e&&e.classList.remove("selected")},w=function(){let e=document.querySelectorAll('.w-product-filter-inner [type="checkbox"]:checked, .w-product-filter-inner [type="radio"]:checked');e.length&&e.forEach(function(e){e.checked=!1})},m=function(){let e=document.querySelectorAll(".w-filter-item.selected");e.length&&e.forEach(function(e){e.classList.remove("selected")})},b=function(){let e=document.querySelectorAll(".w-filter-ordering");e.length&&e.forEach(function(e){e.selectedIndex=0})};document.body.addEventListener("filtered",function(e){void 0!==window.infScroll?function e(){let t=woostifyBuildQueryString(n),l=Object.fromEntries(new URLSearchParams(location.search));for(let i in t)!t[i].length&&i in l&&(delete l[i],delete t[i]);let o={...l,...t},a=new URLSearchParams(o).toString();history.pushState&&history.pushState(null,null,a?"?"+a:window.location.pathname);var s=removePageInUrl(window.location.href);"undefined"==typeof infScroll&&woostifyInfiniteScroll(!0,!1);var f=infScroll.element.getBoundingClientRect().height;let g=document.querySelector(".site-content ul.products");if(g&&!g.querySelector(".filter-loading")&&g.insertAdjacentHTML("beforeend",'<span class="filter-loading"></span>'),document.body.classList.contains("filter-updating"))return;document.body.classList.add("filter-updating");let{responseBody:p,domParseResponse:h,fetchOptions:y}=infScroll.options;"function"==typeof y&&(y=y());let w=new DOMParser;history.pushState(null,"",s),fetch(s,y).then(e=>{if(!e.ok){let t=Error(e.statusText);return infScroll.onPageError(t,s,e),{response:e}}return e[p]().then(t=>{"text"==p&&h&&(t=w.parseFromString(t,"text/html"));var l=t.getElementById("view").innerHTML;jQuery("#view").empty().append(l);var i={top:0,path:s,title:e.title};infScroll.scrollPages.unshift(i);for(var o=1;o<infScroll.scrollPages.length;o++)infScroll.scrollPages[o].top=infScroll.scrollPages[o].top+f;"function"==typeof woostifyInfiniteScroll&&(void 0!==window.infScroll&&window.infScroll.destroy(),woostifyInfiniteScroll(!0,!1)),r=document.querySelector(".w-filter-key"),u(),d(),"function"==typeof woostifyQuickView&&woostifyQuickView(),woostifyFilterDatePicker(),filterData(n,c),woostifyToggleFilter(),woostifyToggleFilterHorizontal(),woostifyToggleChildTerm(),woostifyToggleSoftLimit(),woostifyFilterQuickSearch(),woostifySidebarMobile(),deactive_mobile_sidebar(),woostify_swatch_list(),select_ordering_top(),document.body.classList.remove("filter-updating")})}).catch(e=>{console.log(e)})}():function e(l){let i=document.body.getBoundingClientRect().top,s=t.getBoundingClientRect().top;s<o&&window.scrollTo({top:-1*i- -1*s-o,behavior:"smooth"});let f=document.querySelector(".site-content ul.products");f&&!f.querySelector(".filter-loading")&&f.insertAdjacentHTML("beforeend",'<span class="filter-loading"></span>'),l.detail&&(a=1),document.body.classList.add("filter-updating");let g=woostifyBuildQueryString(n),p=Object.fromEntries(new URLSearchParams(location.search));for(let h in g)!g[h].length&&h in p&&(delete p[h],delete g[h]);let y={...p,...g},w=new URLSearchParams(y).toString();if(history.pushState){let m=void 0!==y.lang?"?lang="+y.lang:"";history.pushState(null,null,w?"?"+w:window.location.pathname+m)}let b=document.querySelector(".orderby"),v=0!=b.length?b.value:"",S=p.orderby||t.getAttribute("data-posts-orderby");S=""!=v?v:S;let k={action:"woostify_product_filter",ajax_nonce:woostify_product_filter.ajax_nonce,per_page:t.getAttribute("data-posts")||"",paged:a,term_id:woostify_product_filter.term_id,taxonomy:woostify_product_filter.taxonomy,list_filter:JSON.stringify(listFilter),search_param:p.s||"",data:JSON.stringify(woostifyUpdateFilters(n)),orderby:S||"menu_order title",order:t.getAttribute("data-posts-order")||"",exclude_products:t.getAttribute("data-exclude-products")||""};k=new URLSearchParams(k).toString();let q=new Request(woostify_product_filter.ajax_url+location.search,{method:"POST",body:k,credentials:"same-origin",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"})});woostifyEvent.ajax_call=1,fetch(q).then(function(e){if(200!==e.status)throw console.log("Status Code: "+e.status),e;return e.json()}).then(function(e){if(!e.success)return;let l=e.data,i=t.querySelector(".woostify-sorting .woocommerce-result-count"),o=t.querySelector(".products"),a=t.querySelector(".woocommerce-pagination"),s=(document.querySelector(".shop-widget"),jQuery("#woostify-overlay"),jQuery("html"),jQuery("form.woocommerce-ordering")),d=l.query.orderby,u=l.query.order;if(s.length&&l.ordering){var f=jQuery(l.ordering);s.find(":not(.orderby)").remove(),f.find("option").appendTo(s.find("select")),f.find("input").appendTo(s),s.find("select").val(s.find("select [selected=selected]").val())}if(i&&l.result_count&&(i.innerHTML=l.result_count),o&&(o.innerHTML=l.content),a){let g="";if((window.elementorFrontend||document.querySelector("body").classList.contains("woobuilder-active"))&&(g=!0),l.pagination){let p=l.pagination,h=window.location.pathname;p=p.replace(/href="([^\'\"]+)/g,function(e){let t=e.split("?"),r="";var l=t[0].match(/\page\/\d+/);if(l){let i=h.match(/\/page\/\d+/);r=i?h.replace(i[0],l[0])+"?":h+l[0]+"?"}for(let o=1;o<t.length;o++)r+=t[o].replace("paged","product-page"),o<t.length-1&&(r+="&");if((r=r.replace("&#038;","&")).includes("orderby")||"null"==d||(r+="&orderby="+d.toLowerCase()),r.includes("order")||(r+="&order="+u.toLowerCase()),r.includes("product-page=")){if(!l){r.split("product-page=")[1].charAt(0);let n=h.match(/(\w{0,})\/{1,}$/);n&&(h=h.replace(n[0],n[1]))}r=new_url.includes("&product-page=")?new_url.replace("&product-page="+page,""):new_url.replace("product-page="+page,"")}return e.replace(e,'href="'+r)}),a.innerHTML=p}else a.innerHTML=""}if(r&&(r.innerHTML=l.filtered),l.template&&1==woostify_product_filter.enable_hierarchy)for(let y in l.template){let w=l.template[y],m=w.id,b=w.type,v=new DOMParser().parseFromString(w.template,"text/html").querySelector(".w-product-filter"),S=jQuery('.w-product-filter[data-type="'+b+'"][data-id="'+m+'"]');w.template?S&&v&&(S.html(v.innerHTML),filterData(n,c)):S.innerHTML=""}woostifyToggleFilter(),woostifyToggleFilterHorizontal(),woostifyToggleChildTerm(),woostifyToggleSoftLimit(),woostifyFilterQuickSearch(),deactive_mobile_sidebar(),woostify_swatch_list();var k=window.location.href;if(k.includes("?")){let q=new URL(k);q.searchParams.has("orderby")||"null"==d||(k+="&orderby="+d.toLowerCase()),q.searchParams.has("order")||(k+="&order="+u.toLowerCase()),history.pushState(null,"",k)}woostifyEvent.ajax_call=0}).catch(function(e){console.log(e),woostifyEvent.ajax_call=0}).finally(function(){document.body.classList.remove("filter-updating"),u(),d(),"function"==typeof woostifyInfiniteScroll&&(void 0!==window.infScroll&&window.infScroll.destroy(),woostifyInfiniteScroll(!0,!1)),"function"==typeof woostifyQuickView&&woostifyQuickView(),woostifyFilterDatePicker(),woostifyEvent.ajax_call=0})}(e)})},resetPagedUrl=function(e){jQuery(".page-numbers").length>0&&""!==e&&jQuery(".page-numbers").each(function(t,r){var l=jQuery(r).attr("href");if(void 0!==l){var i=l.split("?");jQuery(r).attr("href",i[0]+"?"+e)}})},select_ordering_top=function(){document.querySelector('select[name="orderby"]')&&document.querySelector('select[name="orderby"]').addEventListener("change",function(){document.querySelector("form.woocommerce-ordering").submit()})},deactive_mobile_sidebar=function(){var e=document.querySelector("#secondary.shop-widget"),t=document.querySelector("#toggle-sidebar-mobile-button"),r=document.getElementById("woostify-overlay"),l=document.getElementById("sidebar-widgets"),i=document.documentElement;t&&!document.querySelector("#toggle-sidebar-button")&&(t.classList.add("show"),t.classList.remove("active")),r&&(e&&e.classList.remove("active"),l&&l.classList.remove("show"),r.classList.remove("active"),i.classList.remove("sidebar-mobile-open"),document.body.classList.remove("sidebar-mobile-open"))};var woostify_swatch_list=function(){var e=document.querySelectorAll(".swatch-list");e.length&&e.forEach(function(e){var t=e.closest(".product"),r=t.querySelector(".product-loop-image-wrapper"),l=t.querySelector(".product-loop-image"),i=e.querySelectorAll(".swatch");i.length&&i.forEach(function(e){var t=siblings(e),i=e.getAttribute("data-slug");e.classList.contains("selected")&&(l.setAttribute("srcset",""),l.src=i),e.onclick=function(){l.getAttribute("data-swatch")||l.setAttribute("data-swatch",l.src),r.classList.add("circle-loading"),l.setAttribute("srcset",""),t.length&&t.forEach(function(e){e.classList.remove("selected")}),e.classList.contains("selected")?(e.classList.remove("selected"),l.src=l.getAttribute("data-swatch")):(e.classList.add("selected"),l.src=i);var o=new Image;o.src=i,o.onload=function(){r.classList.remove("circle-loading")}}})})};const woostifyFilterOrdering=function(){let e=document.querySelector("form.woocommerce-ordering"),t=!!e&&e.querySelector("select.orderby"),r=document.querySelector("select.w-filter-ordering");if(!t||!r)return;let l=new CustomEvent("change");t.addEventListener("change",function(e){e.preventDefault(),r.value=t.value,r.dispatchEvent(l)}),jQuery(".woocommerce-ordering").on("submit",function(e){e.preventDefault()})};document.addEventListener("DOMContentLoaded",function(){woostifyAjaxFilter(),woostifyFilterDatePicker(),woostifyToggleFilter(),woostifyToggleFilterHorizontal(),woostifyToggleChildTerm(),woostifyToggleSoftLimit(),woostifyFilterQuickSearch(),woostifyFilterOrdering(),window.addEventListener("click",function(e){var t=document.querySelectorAll(".filter-area.filter-horizontal .w-product-filter, .w-pro-smart-filter-layout-horizontal .elementor-widget-container .w-product-filter");if(!t.length||t.length<1)return!1;t.forEach(function(t){t.contains(e.target)||t.classList.remove("open")})}),"function"==typeof onElementorLoaded&&onElementorLoaded(function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/woostify-filter-date-range.default",function(){woostifyFilterDatePicker()}),window.elementorFrontend.hooks.addAction("frontend/element_ready/woostify-filter-range-slider.default",function(){let e=document.querySelectorAll(".w-product-filter-type-range-slider");e.length&&e.forEach(function(e){if("object"==typeof e.noUiSlider)return;let t=Number(e.getAttribute("data-from"))||0,r=Number(e.getAttribute("data-to"))||100;noUiSlider.create(e,{tooltips:!0,connect:!0,start:[t,r],step:1,range:{min:t,max:r},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)}}})})})})});